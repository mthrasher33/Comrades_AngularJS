var myyoprojectApp=angular.module("myyoprojectApp",["ngRoute","myyoprojectCtrls","myyoprojectServices"]);myyoprojectApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/home.html",controller:"homeController"}).when("/edit",{templateUrl:"partials/edit.html",controller:"editController"}).when("/about",{templateUrl:"partials/about.html",controller:"aboutController"}).when("/contact",{templateUrl:"partials/contact.html",controller:"contactController"}).when("/registration",{templateUrl:"partials/registration.html",controller:"registrationController"}).when("/favorites",{templateUrl:"partials/favorites.html",controller:"favoritesController"}).when("/listview",{templateUrl:"partials/listview.html",controller:"listviewController"}).when("/listview/:communistName",{templateUrl:"partials/profileview.html",controller:"profileviewController"})}]);var myyoprojectServices=angular.module("myyoprojectServices",[]);myyoprojectServices.service("dataService",function(){return{firstName:"",lastName:""}}),myyoprojectServices.factory("UserData",function(){return{FirstName:"",LastName:"",Username:"",Hobbies:{Archery:{name:"archery",value:"false",match:"false"},Astronomy:{name:"astronomy",value:"false",match:"false"},Backpacking:{name:"backpacking",value:"false",match:"false"},Baseball:{name:"baseball",value:"false",match:"false"},Basketball:{name:"basketball",value:"false",match:"false"},Blacksmithing:{name:"blacksmithing",value:"false",match:"false"},Cycling:{name:"cycling",value:"false",match:"false"},Dodgeball:{name:"dodgeball",value:"false",match:"false"},Driving:{name:"driving",value:"false",match:"false"},Fishing:{name:"fishing",value:"false",match:"false"},Flying:{name:"flying",value:"false",match:"false"},Foraging:{name:"foraging",value:"false",match:"false"},Graffiti:{name:"graffiti",value:"false",match:"false"},Hiking:{name:"hiking",value:"false",match:"false"},Horseshoes:{name:"horseshoes",value:"false",match:"false"},Homebrewing:{name:"homebrewing",value:"false",match:"false"},Hunting:{name:"hunting",value:"false",match:"false"},Jogging:{name:"jogging",value:"false",match:"false"},Juggling:{name:"juggling",value:"false",match:"false"},Kayaking:{name:"kayaking",value:"false",match:"false"},LARPing:{name:"larping",value:"false",match:"false"},Machining:{name:"machining",value:"false",match:"false"},Magic:{name:"magic",value:"false",match:"false"},Music:{name:"music",value:"false",match:"false"},Origami:{name:"origami",value:"false",match:"false"},Painting:{name:"painting",value:"false",match:"false"},Parkour:{name:"parkour",value:"false",match:"false"},Pottery:{name:"pottery",value:"false",match:"false"},Photography:{name:"photography",value:"false",match:"false"},Quilting:{name:"quilting",value:"false",match:"false"},Reading:{name:"reading",value:"false",match:"false"},Rugby:{name:"rugby",value:"false",match:"false"},Skateboarding:{name:"skateboarding",value:"false",match:"false"},Skiing:{name:"skiing",value:"false",match:"false"},Scouting:{name:"scouting",value:"false",match:"false"},Scrapbooking:{name:"scrapbooking",value:"false",match:"false"},Scultping:{name:"sculpting",value:"false",match:"false"},Taxidermy:{name:"taxidermy",value:"false",match:"false"},Walking:{name:"walking",value:"false",match:"false"},Whittling:{name:"whittling",value:"false",match:"false"},Woodworking:{name:"woodworking",value:"false",match:"false"},Writing:{name:"writing",value:"false",match:"false"},Yoga:{name:"yoga",value:"false",match:"false"}}}}),myyoprojectServices.factory("FavoritesData",function(){return{name:""}});var myyoprojectCtrls=angular.module("myyoprojectCtrls",[]);myyoprojectCtrls.controller("editController",["$scope",function(a){a.message="I am the edit controller!"}]),myyoprojectCtrls.controller("aboutController",["$scope",function(a){a.message="I am the about controller!"}]),myyoprojectCtrls.controller("contactController",["$scope",function(a){a.message="I am the contact controller!"}]),myyoprojectCtrls.controller("homeController",["$scope",function(a){a.message="I am the home controller!"}]),myyoprojectCtrls.controller("registrationController",["$scope","UserData",function(a,b){a.message="I am the registration controller!",a.UserData=b}]),myyoprojectCtrls.controller("profileviewController",["$scope","$routeParams","$http",function(a,b,c){function d(a,b){for(var c=[],d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}function e(){a.communist.quote;var b=a.communist.quote.match(/\S.*?\."?(?=\s|$)/g),c=Math.floor(Math.random()*b.length);return b[c]}a.message,a.conversation=[],a.chunkedData,c.get("communists/"+b.communistName+".json").success(function(b){a.communist=b,c.get("http://en.wikipedia.org/w/api.php?action=query&prop=revisions&titles="+a.communist.firstName+a.communist.lastName+"&prop=pageimages&format=json&pithumbsize=400&indexpageids").then(function(b){a.page=b,a.pageID=a.page.data.query.pageids})}),a.sendMessage=function(){a.conversation.push(a.message),a.conversation.push(e()),a.chunkedData=d(a.conversation,2)},a.clearMessage=function(){a.chunkedData=[],a.conversation=[]}}]),myyoprojectCtrls.controller("favoritesController",["$scope","$http","UserData",function(a,b,c){b.get("communists/communists.json").then(function(b){a.communists=b.data.communists,a.message="I am the favorites controller",a.UserData=c})}]),myyoprojectCtrls.controller("listviewController",["$scope","$http","UserData","FavoritesData",function(a,b,c){function d(a,b){for(var c=[],d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}a.UserData=c,a.favorites=[],a.chunkedData=[],a.communists=[],a.randomName="",a.filters={},a.loadMore=function(){for(var b=0;25>b;b++)a.communists.push(a.allCommunists[a.counter])},b.get("communists/communists.json").then(function(c){a.communists=c.data.communists,a.randomName=a.communists[Math.floor(Math.random()*a.communists.length)].name,a.chunkedData=d(a.communists,3),b.get("http://en.wikipedia.org/w/api.php?action=query&prop=revisions&titles="+c.data.communists+"&prop=pageimages&format=json&pithumbsize=400&indexpageids").then(function(b){a.communistImage=b})}),a.addToFavorites=function(a){a.isFavorite=!0},a["delete"]=function(b){{var c=a.communists.indexOf(b);a.chunkedData.indexOf(b)}a.communists.splice(c,1),a.chunkedData=d(a.communists,3)},a.strongComrades=function(a){var b=0;for(var d in c.Hobbies)if(c.Hobbies.hasOwnProperty(d)){var e=c.Hobbies[d];for(var f in e)if(e.hasOwnProperty(f)&&1==e[f])for(var g in a.hobbies)a.hobbies[g]===e.name&&(b++,e.match="true")}return b>1&&(a.similarities="Strong Comrades"),1==b&&(a.similarities[0]="Moderate Comrades"),1>b&&(a.similarities="Weak Comrades"),[b,a.similarities]},a.showModal=!1,a.toggleModal=function(b){a.communist=b,a.showModal=!a.showModal}}]),myyoprojectCtrls.directive("modal",[function(){return{template:'<div class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">{{ title }}</h4></div><div class="modal-body" ng-transclude></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(a,b,c){a.title=c.title,a.$watch(c.visible,function(a){$(b).modal(1==a?"show":"hide")}),$(b).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!0})}),$(b).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!1})})}}}]);